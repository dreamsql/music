webpackJsonp([4],{126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(22),s=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(0),n=r(25);t.default={components:{icon:s.default},created:function(){var e=o.LocalStore.get("admin_user");if(this.$bus.adminUser=e,e){var t=(0,n.isSuper)(this.$bus.adminUser);this.bind_get_isSuper(t)}else this.bind_route_logout()},methods:{bind_get_isSuper:function(e){this.is_super=e,this.is_super?this.activeMenu="qrcode":this.activeMenu="shop"},bind_route_logout:function(){this.is_super=!1,this.$router.replace({name:"login",params:{force:!0,path:this.$route.fullPath}})},changeMenu:function(e){this.activeMenu=e},logout:function(){this.$database.User.logOut(),this.$message.success("退出登录成功"),o.LocalStore.clearAll(),this.$emit("changeMenu",""),this.bind_route_logout()}},data:function(){return{activeMenu:"",is_super:!1}}}},129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),s=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(17),n=r(0);t.default={mixins:[o.formMixin],created:function(){this.database.query=new this.$database.Query("admin_user"),this.database.Database=this.$database.Object.extend("admin_user"),this.database.query.include("user"),this.database.query.include("shop"),this.getPageData()},methods:{getShopList:function(){var e=this;this.$bus.getShopList().then(function(t){e.shopList=e.$project.dataParseJson(t)})},saveUser:function(e){var t=this;return new Promise(function(r,a){var s=new t.$database.User;s.setUsername(e.username),s.setPassword(e.password),s.setEmail(e.email),s.signUp().then(function(e){r(e)},function(e){t.$message.error(e.message)})})},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ruleForm";this.$refs[t].validate(function(t){if(t){var r=void 0,a=s.default.clone(e.ruleForm,!0);a.shop=[],e.ruleForm.shop.forEach(function(t){a.shop.push(e.$database.Object.createWithoutData("shop",t))}),delete a.objectId,new Promise(function(t,s){e.ruleForm.objectId?(r=e.$database.Object.createWithoutData("admin_user",e.ruleForm.objectId),delete a.user,t()):(r=new e.database.Database,e.saveUser(a.user).then(function(e){a.user=e,t()}))}).then(function(){r.set(a),"super"!=n.LocalStore.get("admin_user").role&&(r.set("role","shop_user"),r.set("remark","商家")),r.save().then(function(t){e.dialogFormVisible=!1,e.getPageData()})})}else e.$message({message:"表单验证有误",type:"warning"})})},resetForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ruleForm";this.ruleForm.objectId="",this.ruleForm.user={username:"",objectId:""},this.$refs[e].resetFields()},showEdit:function(e){var t=this;if(e){var r=new this.$database.Query("admin_user");r.include("user"),r.get(e).then(function(e){var r=t.$project.dataParseJson(e),a=[];r.shop&&r.shop.length>0&&r.shop.forEach(function(e){a.push(e.objectId)}),t.ruleForm.objectId=r.objectId,t.ruleForm.user=r.user,t.ruleForm.shop=a,t.ruleForm.remark=r.remark})}this.dialogFormVisible=!0}},data:function(){return{shopList:[],dialogFormVisible:!1,ruleForm:{user:{username:"",objectId:""},objectId:"",shop:[],remark:""},rules:{"user.username":[{required:!0,message:"请输入用户名",trigger:"change"}],"user.password":[{required:!0,message:"请输入登录密码",trigger:"change"}],"user.email":[{required:!0,type:"email",message:"请输入绑定邮箱",trigger:"change"}]}}}}},130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),s=r(0),o=r(16);t.default={mixins:[a.formMixin],created:function(){var e=this;this.database.query=new this.$database.Query("history");var t=s.LocalStore.get("admin_user"),r=[];t.shop.forEach(function(t){r.push(e.$database.Object.createWithoutData("shop",t.objectId))}),this.database.query.include("shop"),this.database.query.include("qrcode"),this.database.query.containedIn("shop",r),this.database.query.descending("createdAt"),this.getPageData()},methods:{convertType:function(e,t){return(0,o.typeFilter)(e[t.property])},convertArtist:function(e,t){return(0,o.artistFilter)(e[t.property])}},data:function(){return{tableData:[]}}}},131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17);t.default={mixins:[a.formMixin],created:function(){this.database.query=new this.$database.Query("level"),this.database.Database=this.$database.Object.extend("level"),this.getPageData()},methods:{showEdit:function(e){var t=this;e&&this.database.query.get(e).then(function(e){var r=t.$project.dataParseJson(e);t.ruleForm.objectId=r.objectId,t.ruleForm.name=r.name,t.ruleForm.times=r.times,t.ruleForm.fees=r.fees,t.ruleForm.remark=r.remark,t.ruleForm.objectId=r.objectId}),this.dialogFormVisible=!0}},data:function(){return{ruleForm:{objectId:"",name:"",times:"",remark:"",fees:""},rules:{name:[{required:!0,message:"请输入会员的名称",trigger:"change"}],times:[{required:!0,type:"number",message:"请输入会员可点播次数",trigger:"change"}],fees:[{required:!0,type:"number",message:"请输入会员费用",trigger:"change"}]}}}}},132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(25);t.default={data:function(){return{form:{account:"",password:""},rule:{account:[{required:!0,message:"请输入用户帐号",type:"email",trigger:"change"}],password:[{required:!0,message:"请输入登录密码",trigger:"change"}]}}},methods:{login:function(){var e=this;this.$database.User.logIn(this.form.account,this.form.password).then(function(t){var r=new e.$database.Query("admin_user");return r.equalTo("user",t),r.first().then(function(t){if(!t)return Promise.reject({code:-1,message:"帐号已被删除"});e.$message.success("登录成功");var r=t.toJSON(),o=(0,s.isSuper)(r);a.LocalStore.set("admin_user",r),e.$emit("loginCb",o),e.$router.replace(o?"/shop":"/qrcode")})}).catch(function(t){switch(t.code){case 211:case 210:e.$message.error("帐号或密码错误");break;case-1:e.$message.error(t.message);break;default:e.$message.error("出现异常错误，请联系网站管理员")}})}}}},133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(17);t.default={mixins:[s.formMixin],created:function(){var e=this;this.database.query=new this.$database.Query("music_user");var t=a.LocalStore.get("admin_user"),r=[];t.shop.forEach(function(t){r.push(e.$database.Object.createWithoutData("shop",t.objectId))}),this.database.query.containedIn("shop",r),this.database.query.include("qrcode","shop"),this.getPageData()},data:function(){return{}}}},134:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(12),o=a(s),n=r(2),i=a(n),l=r(221),u=a(l),c=r(17),d=r(0);i.default.use(u.default),t.default={mixins:[c.formMixin],created:function(){var e=this;if(this.$emit("changeMenu","qrcode"),this.database.query=new this.$database.Query("qrcode"),this.database.Database=this.$database.Object.extend("qrcode"),this.ruleForm.shop=this.$route.query.id,this.ruleForm.shop)this.shopIds.push(this.ruleForm.shop);else{d.LocalStore.get("admin_user").shop.forEach(function(t){e.shopIds.push(t.objectId)}),1===this.shopIds.length&&(this.ruleForm.shop=this.shopIds[0])}this.getPageData()},methods:{showEdit:function(e){var t=this;e&&this.database.query.get(e).then(function(e){var r=t.$project.dataParseJson(e);t.ruleForm.objectId=r.objectId,t.ruleForm.name=r.name,t.ruleForm.remark=r.remark,t.ruleForm.shop=r.shop.objectId}),this.dialogFormVisible=!0},getShopList:function(){var e=this;this.$bus.getShopList().then(function(t){e.shopList=e.$project.dataParseJson(t)})},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ruleForm";this.$refs[t].validate(function(t){if(t){var r=void 0,a=void 0;r=e.ruleForm.objectId?e.$database.Object.createWithoutData("qrcode",e.ruleForm.objectId):new e.database.Database;var s=o.default.clone(e.ruleForm,!0);a=e.$database.Object.createWithoutData("shop",e.ruleForm.shop),s.shop=a,delete s.objectId,r.set(s),r.save().then(function(t){var r=e.$database.Object.createWithoutData("qrcode",t.id);a.set("qrcode",r),a.save().then(function(t){e.dialogFormVisible=!1,e.getPageData()})})}else e.$message({message:"表单验证有误",type:"warning"})})},getPageData:function(){var e=this,t=[];this.shopIds.length&&(this.shopIds.forEach(function(r){t.push(e.$database.Object.createWithoutData("shop",r))}),this.database.query.containedIn("shop",t)),this.database.query.include("shop"),this.database.query.find().then(function(t){e.tableData=e.$project.dataParseJson(t)})}},data:function(){return{baseUrl:window.location.origin,shopIds:[],shopList:[],ruleForm:{objectId:"",name:"",shop:"",remark:"",scan_count:0},rules:{name:[{required:!0,message:"请输入二维码的名称",trigger:"change"}],shop:[{required:!0,message:"请选择二维码所属的店面",trigger:"change"}]}}}}},135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),s=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(17),n=r(0);t.default={mixins:[o.formMixin],created:function(){this.$emit("changeMenu","shop"),this.adminUserId=n.LocalStore.get("admin_user").objectId,this.database.query=new this.$database.Query("shop"),this.database.Database=this.$database.Object.extend("shop"),this.updateShopList(this.adminUserId)},methods:{updateShopList:function(e){var t=this,r=[];new this.$database.Query("admin_user").get(e).then(function(e){e.get("shop").forEach(function(e){r.push(e.get("objectId"))}),t.database.query.containedIn("objectId",r),t.getPageData()})},showEdit:function(e){var t=this;e&&(this.database.query.get(e).then(function(e){var r=t.$project.dataParseJson(e);t.ruleForm.objectId=r.objectId,t.ruleForm.name=r.name,t.ruleForm.address=r.address,t.ruleForm.remark=r.remark,t.ruleForm.qrcode=r.qrcode.objectId}),this.getQrcodeList(e)),this.dialogFormVisible=!0},getQrcodeList:function(e){var t=this;this.$bus.getQrcodeList(e).then(function(e){t.qrcodeList=t.$project.dataParseJson(e)})},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ruleForm";this.$refs[t].validate(function(t){if(t){var r=void 0;r=e.ruleForm.objectId?e.$database.Object.createWithoutData("shop",e.ruleForm.objectId):new e.database.Database;var a=s.default.clone(e.ruleForm,!0);if(delete a.qrcode,e.ruleForm.qrcode){var o=e.$database.Object.createWithoutData("qrcode",e.ruleForm.qrcode);r.set("qrcode",o)}delete a.objectId,r.set(a),r.save().then(function(t){e.dialogFormVisible=!1,e.updateShopList(),e.$message.success("添加店面成功")})}else e.$message({message:"表单验证有误",type:"warning"})})}},data:function(){return{qrcodeList:[],ruleForm:{objectId:"",name:"",address:"",qrcode:"",remark:""},rules:{name:[{required:!0,message:"请输入店面的名称",trigger:"change"}],address:[{required:!0,message:"请输入店面的地址",trigger:"change"}],qrcode:[{required:!0,message:"请选择店面绑定的二维码",trigger:"change"}]}}}}},145:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=r(2),o=a(s),n=r(31),i=a(n),l=r(5),u=a(l),c=r(9),d=a(c),f=r(81),h=a(f),m=r(76),p=a(m),b=r(13),v=a(b),_=r(6),g=a(_),k=r(8),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(k),w=r(14);a(w);r(32),r(15),r(33),o.default.prototype.$database=g.default,o.default.prototype.$bus=v.default,o.default.prototype.$project=y,o.default.prototype.$http=u.default,u.default.defaults.headers={"X-Requested-With":"XMLHttpRequest"},u.default.defaults.paramsSerializer=function(e){return d.default.stringify(e,{arrayFormat:"brackets"})},u.default.interceptors.request.use(function(e){return e.data&&(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=d.default.stringify(e.data,{arrayFormat:"brackets"})),e},function(e){return Promise.reject(e)}),u.default.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)}),o.default.use(i.default),o.default.config.productionTip=!1,new o.default({el:"#app",router:p.default,template:"<App/>",components:{App:h.default}})},17:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={methods:{resetForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ruleForm";delete this.ruleForm.objectId,delete this.ruleForm.qrcode,this.$refs[e].resetFields()},getPageData:function(){var e=this;this.database.query.find().then(function(t){e.tableData=e.$project.dataParseJson(t)})},saveData:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ruleForm";this.$refs[r].validate(function(r){if(r){var a=void 0;a=t.ruleForm.objectId?t.$database.Object.createWithoutData(e,t.ruleForm.objectId):new t.database.Database;var s=_.clone(t.ruleForm,!0);delete s.objectId,a.set(s),a.save().then(function(e){t.dialogFormVisible=!1,t.getPageData()})}else t.$message({message:"表单验证有误",type:"warning"})})},defaultTable:function(e,t){return e[t.property]?e[t.property]:"无"},convertDate:function(e,t){return new Date(e[t.property]).toLocaleString()}},data:function(){return{database:{query:void 0,Database:void 0},dialogFormVisible:!1,tableData:[],ruleForm:{},rules:{}}}};t.formMixin=a},185:function(e,t,r){var a=r(1)(r(129),r(214),null,null,null);e.exports=a.exports},186:function(e,t,r){var a=r(1)(r(130),r(216),null,null,null);e.exports=a.exports},187:function(e,t,r){var a=r(1)(r(131),r(201),null,null,null);e.exports=a.exports},188:function(e,t,r){var a=r(1)(r(132),r(205),null,null,null);e.exports=a.exports},189:function(e,t,r){var a=r(1)(r(133),r(219),null,null,null);e.exports=a.exports},190:function(e,t,r){var a=r(1)(r(134),r(220),null,null,null);e.exports=a.exports},191:function(e,t,r){var a=r(1)(r(135),r(203),null,null,null);e.exports=a.exports},201:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showEdit()}}},[e._v("添加会员等级")]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"name",label:"级别"}}),e._v(" "),r("el-table-column",{attrs:{prop:"times",label:"每月可点播次数"}}),e._v(" "),r("el-table-column",{attrs:{prop:"fees",label:"会员费"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){e.showEdit(t.row.objectId)}}},[e._v("\n          编辑\n        ")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"收货地址",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.resetForm}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"会员名称 ",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name=t},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"每月点播次数",prop:"times"}},[r("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.times,callback:function(t){e.ruleForm.times=e._n(t)},expression:"ruleForm.times"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"会员费",prop:"fees"}},[r("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.fees,callback:function(t){e.ruleForm.fees=e._n(t)},expression:"ruleForm.fees"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:"",rows:2,"auto-complete":"off"},model:{value:e.ruleForm.remark,callback:function(t){e.ruleForm.remark=t},expression:"ruleForm.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveData("level")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},203:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showEdit()}}},[e._v("\n    添加店面\n  ")]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"无",border:""}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"店面名称",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"address",label:"店面地址"}}),e._v(" "),r("el-table-column",{attrs:{label:"查看店面二维码"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{attrs:{to:{path:"/qrcode",query:{id:t.row.objectId}}}},[r("el-button",{attrs:{type:"text"}},[e._v("查看二维码")])],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){e.showEdit(t.row.objectId)}}},[e._v("\n          编辑\n        ")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"店面操作",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.resetForm}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"店面名称",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name=t},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"店面地址",prop:"address"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.address,callback:function(t){e.ruleForm.address=t},expression:"ruleForm.address"}})],1),e._v(" "),e.ruleForm.objectId?r("el-form-item",{attrs:{label:"店面二维码",prop:"qrcode"}},[r("el-select",{attrs:{placeholder:"请选择店面绑定的二维码",clearable:""},model:{value:e.ruleForm.qrcode,callback:function(t){e.ruleForm.qrcode=t},expression:"ruleForm.qrcode"}},e._l(e.qrcodeList,function(e,t){return r("el-option",{key:t,attrs:{label:e.name+"--"+e.remark,value:e.objectId}})}))],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:"",rows:2,"auto-complete":"off"},model:{value:e.ruleForm.remark,callback:function(t){e.ruleForm.remark=t},expression:"ruleForm.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveData()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},205:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.login(t)}}},[r("el-dialog",{attrs:{visible:!0,"show-close":!1,size:"full"}},[r("br"),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("el-card",{staticClass:"box-card",staticStyle:{width:"500px",margin:"auto"}},[r("div",{staticClass:"clearfix",slot:"header"},[r("h3",{staticStyle:{"line-height":"36px","text-align":"center"}},[e._v("来点音乐-后台登录")])]),e._v(" "),r("el-form",{attrs:{model:e.form,"label-width":"120px",rule:e.rule}},[r("el-form-item",{attrs:{label:"用户帐号"}},[r("el-input",{attrs:{placeholder:"请输入邮箱帐号","auto-complete":"off"},model:{value:e.form.account,callback:function(t){e.form.account=t},expression:"form.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"登录密码"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码","auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)],1)},staticRenderFns:[]}},213:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-menu",{ref:"menu",staticClass:"el-menu-demo",attrs:{theme:"dark","default-active":e.activeMenu,mode:"horizontal",router:!0}},[e.is_super?r("el-menu-item",{attrs:{index:"shop"}},[e._v("店面管理")]):e._e(),e._v(" "),r("el-menu-item",{attrs:{index:"qrcode"}},[e._v("二维码管理")]),e._v(" "),r("el-menu-item",{attrs:{index:"member"}},[e._v("会员管理")]),e._v(" "),e.is_super?r("el-menu-item",{attrs:{index:"level"}},[e._v("会员设置")]):e._e(),e._v(" "),e.is_super?r("el-menu-item",{attrs:{index:"admin"}},[e._v("后台用户管理")]):e._e(),e._v(" "),r("el-menu-item",{attrs:{index:"history"}},[e._v("点歌历史")]),e._v(" "),r("el-submenu",{staticStyle:{float:"right","margin-right":"20px"},attrs:{index:"sign"}},[r("template",{slot:"title"},[e._v(e._s(e.$bus.adminUser&&e.$bus.adminUser.remark||"商家用户"))]),e._v(" "),r("el-menu-item",{attrs:{index:"logout",route:{path:"/"}},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],2),e._v(" "),r("a",{staticClass:"el-menu-item",staticStyle:{float:"right"},attrs:{href:"/music.html",target:"_blank"}},[r("icon",{attrs:{type:"play"}})],1)],1),e._v(" "),r("br"),e._v(" "),r("el-row",[r("el-col",{attrs:{offset:2,span:20}},[r("router-view",{on:{changeMenu:e.changeMenu,loginCb:e.bind_get_isSuper}})],1)],1)],1)},staticRenderFns:[]}},214:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},["super"==e.$bus.adminUser.role?[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showEdit()}}},[e._v("添加用户")]),e._v(" "),r("br"),e._v(" "),r("br")]:e._e(),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"无",border:""}},[r("el-table-column",{attrs:{type:"index",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"user.username",label:"用户名"}}),e._v(" "),r("el-table-column",{attrs:{label:"管理店面"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.shop,function(t,a){return r("span",{key:a},[r("router-link",{attrs:{to:{path:"/qrcode",query:{id:t.objectId}}}},[r("el-button",{attrs:{type:"text"}},[e._v(e._s(t.name))])],1),e._v("，\n        ")],1)})}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"createdAt",label:"创建时间",width:"180",formatter:e.convertDate,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),e._v(" "),"super"==e.$bus.adminUser.role?r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{on:{click:function(r){e.showEdit(t.row.objectId)}}},[e._v("编辑")])]}}])}):e._e()],1),e._v(" "),r("el-dialog",{attrs:{title:"用户操作",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},open:e.getShopList,close:e.resetForm}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"user.username"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:!!this.ruleForm.objectId},model:{value:e.ruleForm.user.username,callback:function(t){e.ruleForm.user.username=t},expression:"ruleForm.user.username"}})],1),e._v(" "),this.ruleForm.objectId?e._e():r("el-form-item",{attrs:{label:"登录密码",prop:"user.password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm.user.password,callback:function(t){e.ruleForm.user.password=t},expression:"ruleForm.user.password"}})],1),e._v(" "),this.ruleForm.objectId?e._e():r("el-form-item",{attrs:{label:"绑定邮箱",prop:"user.email"}},[r("el-input",{attrs:{type:"email","auto-complete":"off"},model:{value:e.ruleForm.user.email,callback:function(t){e.ruleForm.user.email=t},expression:"ruleForm.user.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"管理店面",prop:"shop"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择用户管理的店面",clearable:""},model:{value:e.ruleForm.shop,callback:function(t){e.ruleForm.shop=t},expression:"ruleForm.shop"}},e._l(e.shopList,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.objectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:"",rows:2,"auto-complete":"off"},model:{value:e.ruleForm.remark,callback:function(t){e.ruleForm.remark=t},expression:"ruleForm.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveData()}}},[e._v("确 定")])],1)],1)],2)},staticRenderFns:[]}},216:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"name",label:"歌曲名",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"type",formatter:e.convertType,label:"音乐平台"}}),e._v(" "),r("el-table-column",{attrs:{prop:"artists",formatter:e.convertArtist,label:"歌手"}}),e._v(" "),r("el-table-column",{attrs:{prop:"album.name",label:"专辑"}}),e._v(" "),r("el-table-column",{attrs:{prop:"shop.name",label:"所属店面"}}),e._v(" "),r("el-table-column",{attrs:{prop:"qrcode.name",label:"所属二维码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"createdAt",formatter:e.convertDate,label:"点歌时间"}})],1)],1)},staticRenderFns:[]}},219:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"openId",label:"会员微信名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"qrcode.name",label:"注册的二维码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"shop.name",label:"所属店面"}})],1)],1)},staticRenderFns:[]}},220:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>1,expression:"tableData.length>1"}],attrs:{type:"primary"},on:{click:function(t){e.showEdit()}}},[e._v("添加二维码")]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"无",border:""}},[r("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",formatter:e.defaultTable,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"shop.name",label:"店面",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"objectId",label:"二维码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{effect:"light",placement:"right"}},[r("div",{slot:"content"},[r("qriously",{attrs:{value:e.$project.getAuthorizeURL(e.baseUrl+"/#/?sId="+t.row.shop.objectId+"&qId="+t.row.objectId),size:200}})],1),e._v(" "),r("div",{staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{"data-url":e.$project.getAuthorizeURL(e.baseUrl+"/#/?sId="+t.row.shop.objectId+"&qId="+t.row.objectId)}},[r("qriously",{attrs:{value:e.$project.getAuthorizeURL(e.baseUrl+"/#/?sId="+t.row.shop.objectId+"&qId="+t.row.objectId),size:20}})],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"scan_count",label:"被扫描次数",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"createdAt",label:"创建时间",width:"180",formatter:e.convertDate,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){e.showEdit(t.row.objectId)}}},[e._v("\n          编辑\n        ")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"二维码操作",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},open:e.getShopList,close:e.resetForm}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"二维码名称",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name=t},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属店面",prop:"shop"}},[r("el-select",{attrs:{placeholder:"请选择二维码所属店面",clearable:"",disabled:1==e.shopIds.length||!!e.ruleForm.objectId},model:{value:e.ruleForm.shop,callback:function(t){e.ruleForm.shop=t},expression:"ruleForm.shop"}},e._l(e.shopList,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.objectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:"",rows:2,"auto-complete":"off"},model:{value:e.ruleForm.remark,callback:function(t){e.ruleForm.remark=t},expression:"ruleForm.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveData()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},221:function(e,t,r){(function(t){!function(t,r){e.exports=r()}(0,function(){"use strict";var e=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t,r){e.exports=function(){function e(e,t){var a;return"function"==typeof Object.create?a=Object.create(e):(s.prototype=e,a=new s,s.prototype=null),t&&r(!0,a,t),a}function t(t,a,s,o){var n=this;return"string"!=typeof t&&(o=s,s=a,a=t,t=null),"function"!=typeof a&&(o=s,s=a,a=function(){return n.apply(this,arguments)}),r(!1,a,n,o),a.prototype=e(n.prototype,s),a.prototype.constructor=a,a.class_=t||n.class_,a.super_=n,a}function r(e,t,r){r=n.call(arguments,2);for(var a,s,i=0,l=r.length;i<l;i++){s=r[i];for(a in s)e&&!o.call(s,a)||(t[a]=s[a])}}function a(){}var s=function(){},o=Object.prototype.hasOwnProperty,n=Array.prototype.slice,i=t;a.class_="Nevis",a.super_=Object,a.extend=i;var l=a,u=l,c=u.extend(function(e,t,r){this.qrious=e,this.element=t,this.element.qrious=e,this.enabled=Boolean(r)},{draw:function(e){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(e){var t=this.qrious,r=t.padding||0,a=Math.floor((t.size-2*r)/e.width);return Math.max(1,a)},getOffset:function(e){var t=this.qrious,r=t.padding;if(null!=r)return r;var a=this.getModuleSize(e),s=Math.floor((t.size-a*e.width)/2);return Math.max(0,s)},render:function(e){this.enabled&&(this.resize(),this.reset(),this.draw(e))},reset:function(){},resize:function(){}}),d=c,f=d.extend({draw:function(e){var t,r,a=this.qrious,s=this.getModuleSize(e),o=this.getOffset(e),n=this.element.getContext("2d");for(n.fillStyle=a.foreground,n.globalAlpha=a.foregroundAlpha,t=0;t<e.width;t++)for(r=0;r<e.width;r++)e.buffer[r*e.width+t]&&n.fillRect(s*t+o,s*r+o,s,s)},reset:function(){var e=this.qrious,t=this.element.getContext("2d"),r=e.size;t.lineWidth=1,t.clearRect(0,0,r,r),t.fillStyle=e.background,t.globalAlpha=e.backgroundAlpha,t.fillRect(0,0,r,r)},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),h=f,m=u.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),p=m,b=u.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),v=b,_=u.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),g=_,k=u.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),y=k,w=u.extend(function(e){var t,r,a,s,o,n=e.value.length;for(this._badness=[],this._level=v.LEVELS[e.level],this._polynomial=[],this._value=e.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,a=4*(this._level-1)+16*(this._version-1),s=v.BLOCKS[a++],o=v.BLOCKS[a++],t=v.BLOCKS[a++],r=v.BLOCKS[a],a=t*(s+o)+o-3+(this._version<=9),!(n<=a)););this._dataBlock=t,this._eccBlock=r,this._neccBlock1=s,this._neccBlock2=o;var i=this.width=17+4*this._version;this.buffer=w._createArray(i*i),this._ecc=w._createArray(t+(t+r)*(s+o)+o),this._mask=w._createArray((i*(i+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+i*(i-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(n),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(e,t){var r,a=this.buffer,s=this.width;for(a[e+s*t]=1,r=-2;r<2;r++)a[e+r+s*(t-2)]=1,a[e-2+s*(t+r+1)]=1,a[e+2+s*(t+r)]=1,a[e+r+1+s*(t+2)]=1;for(r=0;r<2;r++)this._setMask(e-1,t+r),this._setMask(e+1,t-r),this._setMask(e-r,t-1),this._setMask(e+r,t+1)},_appendData:function(e,t,r,a){var s,o,n,i=this._polynomial,l=this._stringBuffer;for(o=0;o<a;o++)l[r+o]=0;for(o=0;o<t;o++){if(255!==(s=g.LOG[l[e+o]^l[r]]))for(n=1;n<a;n++)l[r+n-1]=l[r+n]^g.EXPONENT[w._modN(s+i[a-n])];else for(n=r;n<r+a;n++)l[n]=l[n+1];l[r+a-1]=255===s?0:g.EXPONENT[w._modN(s+i[0])]}},_appendEccToData:function(){var e,t=0,r=this._dataBlock,a=this._calculateMaxLength(),s=this._eccBlock;for(e=0;e<this._neccBlock1;e++)this._appendData(t,r,a,s),t+=r,a+=s;for(e=0;e<this._neccBlock2;e++)this._appendData(t,r+1,a,s),t+=r+1,a+=s},_applyMask:function(e){var t,r,a,s,o=this.buffer,n=this.width;switch(e){case 0:for(s=0;s<n;s++)for(a=0;a<n;a++)a+s&1||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 1:for(s=0;s<n;s++)for(a=0;a<n;a++)1&s||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 2:for(s=0;s<n;s++)for(t=0,a=0;a<n;a++,t++)3===t&&(t=0),t||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 3:for(r=0,s=0;s<n;s++,r++)for(3===r&&(r=0),t=r,a=0;a<n;a++,t++)3===t&&(t=0),t||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 4:for(s=0;s<n;s++)for(t=0,r=s>>1&1,a=0;a<n;a++,t++)3===t&&(t=0,r=!r),r||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 5:for(r=0,s=0;s<n;s++,r++)for(3===r&&(r=0),t=0,a=0;a<n;a++,t++)3===t&&(t=0),(a&s&1)+!(!t|!r)||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 6:for(r=0,s=0;s<n;s++,r++)for(3===r&&(r=0),t=0,a=0;a<n;a++,t++)3===t&&(t=0),(a&s&1)+(t&&t===r)&1||this._isMasked(a,s)||(o[a+s*n]^=1);break;case 7:for(r=0,s=0;s<n;s++,r++)for(3===r&&(r=0),t=0,a=0;a<n;a++,t++)3===t&&(t=0),(t&&t===r)+(a+s&1)&1||this._isMasked(a,s)||(o[a+s*n]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var e,t,r=this._eccBlock,a=this._polynomial;for(a[0]=1,e=0;e<r;e++){for(a[e+1]=1,t=e;t>0;t--)a[t]=a[t]?a[t-1]^g.EXPONENT[w._modN(g.LOG[a[t]]+e)]:a[t-1];a[0]=g.EXPONENT[w._modN(g.LOG[a[0]]+e)]}for(e=0;e<=r;e++)a[e]=g.LOG[a[e]]},_checkBadness:function(){var e,t,r,a,s,o=0,n=this._badness,i=this.buffer,l=this.width;for(s=0;s<l-1;s++)for(a=0;a<l-1;a++)(i[a+l*s]&&i[a+1+l*s]&&i[a+l*(s+1)]&&i[a+1+l*(s+1)]||!(i[a+l*s]||i[a+1+l*s]||i[a+l*(s+1)]||i[a+1+l*(s+1)]))&&(o+=w.N2);var u=0;for(s=0;s<l;s++){for(r=0,n[0]=0,e=0,a=0;a<l;a++)t=i[a+l*s],e===t?n[r]++:n[++r]=1,e=t,u+=e?1:-1;o+=this._getBadness(r)}u<0&&(u=-u);var c=0,d=u;for(d+=d<<2,d<<=1;d>l*l;)d-=l*l,c++;for(o+=c*w.N4,a=0;a<l;a++){for(r=0,n[0]=0,e=0,s=0;s<l;s++)t=i[a+l*s],e===t?n[r]++:n[++r]=1,e=t;o+=this._getBadness(r)}return o},_convertBitStream:function(e){var t,r,a=this._ecc,s=this._version;for(r=0;r<e;r++)a[r]=this._value.charCodeAt(r);var o=this._stringBuffer=a.slice(),n=this._calculateMaxLength();e>=n-2&&(e=n-2,s>9&&e--);var i=e;if(s>9){for(o[i+2]=0,o[i+3]=0;i--;)t=o[i],o[i+3]|=255&t<<4,o[i+2]=t>>4;o[2]|=255&e<<4,o[1]=e>>4,o[0]=64|e>>12}else{for(o[i+1]=0,o[i+2]=0;i--;)t=o[i],o[i+2]|=255&t<<4,o[i+1]=t>>4;o[1]|=255&e<<4,o[0]=64|e>>4}for(i=e+3-(s<10);i<n;)o[i++]=236,o[i++]=17},_getBadness:function(e){var t,r=0,a=this._badness;for(t=0;t<=e;t++)a[t]>=5&&(r+=w.N1+a[t]-5);for(t=3;t<e-1;t+=2)a[t-2]===a[t+2]&&a[t+2]===a[t-1]&&a[t-1]===a[t+1]&&3*a[t-1]===a[t]&&(0===a[t-3]||t+3>e||3*a[t-3]>=4*a[t]||3*a[t+3]>=4*a[t])&&(r+=w.N3);return r},_finish:function(){this._stringBuffer=this.buffer.slice();var e,t,r=0,a=3e4;for(t=0;t<8&&(this._applyMask(t),e=this._checkBadness(),e<a&&(a=e,r=t),7!==r);t++)this.buffer=this._stringBuffer.slice();r!==t&&this._applyMask(r),a=v.FINAL_FORMAT[r+(this._level-1<<3)];var s=this.buffer,o=this.width;for(t=0;t<8;t++,a>>=1)1&a&&(s[o-1-t+8*o]=1,t<6?s[8+o*t]=1:s[8+o*(t+1)]=1);for(t=0;t<7;t++,a>>=1)1&a&&(s[8+o*(o-7+t)]=1,t?s[6-t+8*o]=1:s[7+8*o]=1)},_interleaveBlocks:function(){var e,t,r=this._dataBlock,a=this._ecc,s=this._eccBlock,o=0,n=this._calculateMaxLength(),i=this._neccBlock1,l=this._neccBlock2,u=this._stringBuffer;for(e=0;e<r;e++){for(t=0;t<i;t++)a[o++]=u[e+t*r];for(t=0;t<l;t++)a[o++]=u[i*r+e+t*(r+1)]}for(t=0;t<l;t++)a[o++]=u[i*r+e+t*(r+1)];for(e=0;e<s;e++)for(t=0;t<i+l;t++)a[o++]=u[n+e+t*s];this._stringBuffer=a},_insertAlignments:function(){var e,t,r,a=this._version,s=this.width;if(a>1)for(e=p.BLOCK[a],r=s-7;;){for(t=s-7;t>e-3&&(this._addAlignment(t,r),!(t<e));)t-=e;if(r<=e+9)break;r-=e,this._addAlignment(6,r),this._addAlignment(r,6)}},_insertFinders:function(){var e,t,r,a,s=this.buffer,o=this.width;for(e=0;e<3;e++){for(t=0,a=0,1===e&&(t=o-7),2===e&&(a=o-7),s[a+3+o*(t+3)]=1,r=0;r<6;r++)s[a+r+o*t]=1,s[a+o*(t+r+1)]=1,s[a+6+o*(t+r)]=1,s[a+r+1+o*(t+6)]=1;for(r=1;r<5;r++)this._setMask(a+r,t+1),this._setMask(a+1,t+r+1),this._setMask(a+5,t+r),this._setMask(a+r+1,t+5);for(r=2;r<4;r++)s[a+r+o*(t+2)]=1,s[a+2+o*(t+r+1)]=1,s[a+4+o*(t+r)]=1,s[a+r+1+o*(t+4)]=1}},_insertTimingGap:function(){var e,t,r=this.width;for(t=0;t<7;t++)this._setMask(7,t),this._setMask(r-8,t),this._setMask(7,t+r-7);for(e=0;e<8;e++)this._setMask(e,7),this._setMask(e+r-8,7),this._setMask(e,r-8)},_insertTimingRowAndColumn:function(){var e,t=this.buffer,r=this.width;for(e=0;e<r-14;e++)1&e?(this._setMask(8+e,6),this._setMask(6,8+e)):(t[8+e+6*r]=1,t[6+r*(8+e)]=1)},_insertVersion:function(){var e,t,r,a,s=this.buffer,o=this._version,n=this.width;if(o>6)for(e=y.BLOCK[o-7],t=17,r=0;r<6;r++)for(a=0;a<3;a++,t--)1&(t>11?o>>t-12:e>>t)?(s[5-r+n*(2-a+n-11)]=1,s[2-a+n-11+n*(5-r)]=1):(this._setMask(5-r,2-a+n-11),this._setMask(2-a+n-11,5-r))},_isMasked:function(e,t){var r=w._getMaskBit(e,t);return 1===this._mask[r]},_pack:function(){var e,t,r,a=1,s=1,o=this.width,n=o-1,i=o-1,l=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(t=0;t<l;t++)for(e=this._stringBuffer[t],r=0;r<8;r++,e<<=1){128&e&&(this.buffer[n+o*i]=1);do{s?n--:(n++,a?0!==i?i--:(n-=2,a=!a,6===n&&(n--,i=9)):i!==o-1?i++:(n-=2,a=!a,6===n&&(n--,i-=8))),s=!s}while(this._isMasked(n,i))}},_reverseMask:function(){var e,t,r=this.width;for(e=0;e<9;e++)this._setMask(e,8);for(e=0;e<8;e++)this._setMask(e+r-8,8),this._setMask(8,e);for(t=0;t<7;t++)this._setMask(8,t+r-7)},_setMask:function(e,t){var r=w._getMaskBit(e,t);this._mask[r]=1},_syncMask:function(){var e,t,r=this.width;for(t=0;t<r;t++)for(e=0;e<=t;e++)this.buffer[e+r*t]&&this._setMask(e,t)}},{_createArray:function(e){var t,r=[];for(t=0;t<e;t++)r[t]=0;return r},_getMaskBit:function(e,t){var r;return e>t&&(r=e,e=t,t=r),r=t,r+=t*t,r>>=1,r+=e},_modN:function(e){for(;e>=255;)e-=255,e=(e>>8)+(255&e);return e},N1:3,N2:3,N3:40,N4:10}),F=w,x=d.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),j=x,q=u.extend(function(e,t,r,a){this.name=e,this.modifiable=Boolean(t),this.defaultValue=r,this._valueTransformer=a},{transform:function(e){var t=this._valueTransformer;return"function"==typeof t?t(e,this):e}}),M=q,I=u.extend(null,{abs:function(e){return null!=e?Math.abs(e):null},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},noop:function(){},toUpperCase:function(e){return null!=e?e.toUpperCase():null}}),$=I,S=u.extend(function(e){this.options={},e.forEach(function(e){this.options[e.name]=e},this)},{exists:function(e){return null!=this.options[e]},get:function(e,t){return S._get(this.options[e],t)},getAll:function(e){var t,r=this.options,a={};for(t in r)$.hasOwn(r,t)&&(a[t]=S._get(r[t],e));return a},init:function(e,t,r){"function"!=typeof r&&(r=$.noop);var a,s;for(a in this.options)$.hasOwn(this.options,a)&&(s=this.options[a],S._set(s,s.defaultValue,t),S._createAccessor(s,t,r));this._setAll(e,t,!0)},set:function(e,t,r){return this._set(e,t,r)},setAll:function(e,t){return this._setAll(e,t)},_set:function(e,t,r,a){var s=this.options[e];if(!s)throw new Error("Invalid option: "+e);if(!s.modifiable&&!a)throw new Error("Option cannot be modified: "+e);return S._set(s,t,r)},_setAll:function(e,t,r){if(!e)return!1;var a,s=!1;for(a in e)$.hasOwn(e,a)&&this._set(a,e[a],t,r)&&(s=!0);return s}},{_createAccessor:function(e,t,r){var a={get:function(){return S._get(e,t)}};e.modifiable&&(a.set=function(a){S._set(e,a,t)&&r(a,e)}),Object.defineProperty(t,e.name,a)},_get:function(e,t){return t["_"+e.name]},_set:function(e,t,r){var a="_"+e.name,s=r[a],o=e.transform(null!=t?t:e.defaultValue);return r[a]=o,o!==s}}),O=S,L=u.extend(function(){this._services={}},{getService:function(e){var t=this._services[e];if(!t)throw new Error("Service is not being managed with name: "+e);return t},setService:function(e,t){if(this._services[e])throw new Error("Service is already managed with name: "+e);t&&(this._services[e]=t)}}),D=L,E=new O([new M("background",!0,"white"),new M("backgroundAlpha",!0,1,$.abs),new M("element"),new M("foreground",!0,"black"),new M("foregroundAlpha",!0,1,$.abs),new M("level",!0,"L",$.toUpperCase),new M("mime",!0,"image/png"),new M("padding",!0,null,$.abs),new M("size",!0,100,$.abs),new M("value",!0,"")]),A=new D,B=u.extend(function(e){E.init(e,this,this.update.bind(this));var t=E.get("element",this),r=A.getService("element"),a=t&&r.isCanvas(t)?t:r.createCanvas(),s=t&&r.isImage(t)?t:r.createImage();this._canvasRenderer=new h(this,a,!0),this._imageRenderer=new j(this,s,s===t),this.update()},{get:function(){return E.getAll(this)},set:function(e){E.setAll(e,this)&&this.update()},toDataURL:function(e){return this.canvas.toDataURL(e||this.mime)},update:function(){var e=new F({level:this.level,value:this.value});this._canvasRenderer.render(e),this._imageRenderer.render(e)}},{use:function(e){A.setService(e.getName(),e)}});Object.defineProperties(B.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var P=B,C=P,N=u.extend({getName:function(){}}),z=N,V=z.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(e){},isImage:function(e){}}),R=V,U=R.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(e){return e instanceof HTMLCanvasElement},isImage:function(e){return e instanceof HTMLImageElement}}),T=U;return C.use(new T),C}()}()})),r={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("canvas",{ref:"qrcode"})])},staticRenderFns:[],data:function(){return{qrious:null}},props:{background:{type:String,default:"white"},backgroundAlpha:{type:Number,default:0},foreground:{type:String,default:"black"},foregroundAlpha:{type:Number,default:1},level:{type:String,default:"L"},mime:{type:String,default:"image/png"},padding:{type:Number,default:null},size:{type:Number,default:100},value:{type:String,required:!0}},watch:{background:function(){this.qrious.background=this.background},backgroundAlpha:function(){this.qrious.backgroundAlpha=this.backgroundAlpha},foreground:function(){this.qrious.foreground=this.foreground},foregroundAlpha:function(){this.qrious.foregroundAlpha=this.foregroundAlpha},level:function(){this.qrious.level=this.level},mime:function(){this.qrious.mime=this.mime},padding:function(){this.qrious.padding=this.padding},size:function(){this.qrious.size=this.size},value:function(){this.qrious.value=this.value}},mounted:function(){var t=this.$refs.qrcode,r=this.background,a=this.backgroundAlpha,s=this.foreground,o=this.foregroundAlpha,n=this.level,i=this.mime,l=this.padding,u=this.size,c=this.value;this.qrious=new e({element:t,background:r,backgroundAlpha:a,foreground:s,foregroundAlpha:o,level:n,mime:i,padding:l,size:u,value:c})}},a={install:function(e,t){e.component("qriously",r)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(a),a})}).call(t,r(30))},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return!(!e||!e.role)&&("admin"==e.role||"super"==e.role)},s=function(e,t){var r=void 0,a=void 0;return r="?"==e[0]?e.slice(1).split("&"):e.split("&"),r.forEach(function(e){var r=e.split("=")[0],s=e.split("=")[1];r==t&&(a=s)}),a};t.isSuper=a,t.getQueryStr=s},76:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),o=a(s),n=r(24),i=a(n),l=r(0),u=r(191),c=a(u),d=r(189),f=a(d),h=r(190),m=a(h),p=r(187),b=a(p),v=r(188),_=a(v),g=r(185),k=a(g),y=r(186),w=a(y);r(25);o.default.use(i.default);var F=new i.default({routes:[{path:"/member",name:"member",component:f.default},{alias:"/",path:"/shop",name:"shop",component:c.default},{path:"/qrcode",name:"qrcode",component:m.default},{path:"/level",name:"level",component:b.default},{path:"/login",name:"login",component:_.default},{path:"/admin",name:"admin",component:k.default},{path:"/history",name:"history",component:w.default}]});F.beforeEach(function(e,t,r){var a=(e.matched,l.LocalStore.get("admin_user")),s="login"===e.name,o=!!e.params.force;a||s?a&&s&&!o?r("/"):r():r({name:"login",params:{path:e.fullPath}})}),t.default=F},81:function(e,t,r){var a=r(1)(r(126),r(213),null,null,null);e.exports=a.exports}},[145]);